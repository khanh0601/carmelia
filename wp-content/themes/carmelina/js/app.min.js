var min_sm=576;function calculate_map(){if($(".location-map").length){var e=$(".location-map").width()/656,t=-1055*e,a=-661*e,i=-1065*e,n=-715*e;$(".location-map-background").css({top:t,bottom:a,left:i,right:n})}}function _scroll_back_text(){if($(".back-text").length){var e,t=$(".back-text").height(),a=($(".back-text").parent().outerHeight()-t)/2,i=$(window).height()/3;e=$(window).scrollTop(),$(".back-text").each(function(){var t=$(this),n=-(t.parent().offset().top-e)+i,s=0;(s=n<a?n/a:1-(n-a)/a)>1?s=1:s<0&&(s=0),s>0?t.css({color:"rgba(255,255,255,"+s+")",display:"block"}):t.css({color:"rgba(255,255,255,0)",display:"none"})})}}function destination_reinit_slider(){$(".destination-slider").slick("unslick"),$(".destination-slider").each(function(){var e="#"+$(this).data("dotted"),t="#"+$(this).data("arrow"),a=t+"-pre",i=t+"-next";$(this).slick({dots:!0,arrows:!0,autoplay:!1,infinite:!1,speed:300,slidesToShow:1,slidesToScroll:1,prevArrow:a,nextArrow:i,appendDots:e})})}function exploration_reinit_slider(){$(window).width()>=min_sm&&$(".exploration-group-items").length?$(".exploration-group-items").hasClass("slick-initialized")&&$(".exploration-group-items").slick("unslick"):$(window).width()<min_sm&&$(".exploration-group-items").length&&($(".exploration-group-items").slick("unslick"),$(".exploration-group-items").slick({dots:!1,arrows:!1,autoplay:!1,infinite:!1,speed:300,slidesToShow:1,slidesToScroll:1}))}function exploration_make_slider(){$(window).width()>=min_sm&&$(".exploration-group-items").length?$(".exploration-group-items").hasClass("slick-initialized")&&$(".exploration-group-items").slick("unslick"):$(window).width()<min_sm&&$(".exploration-group-items").length&&($(".exploration-group-items").hasClass("slick-initialized")||$(".exploration-group-items").slick({dots:!1,arrows:!1,autoplay:!1,infinite:!1,speed:300,slidesToShow:1,slidesToScroll:1}))}function card_news_make_slider(){$(window).width()>=768&&$(".list-card-news").length?$(".list-card-news").hasClass("slick-initialized")&&$(".list-card-news").slick("unslick"):$(window).width()<768&&$(".list-card-news").length&&($(".list-card-news").hasClass("slick-initialized")||($(".list-card-news").on("init",function(e,t){$(".list-card-news-info h3").text($(".slick-current .card-news-info h3").text()),$(".list-card-news-info-date").text($(".slick-current .card-news-info .card-news-info-date").text()),$(".list-card-news-info-description").text($(".slick-current .card-news-info .card-news-info-description").text()),$(".list-card-news-info-container a").attr("href",$(".slick-current .card-news-info a").attr("href"))}),$(".list-card-news").slick({dots:!0,appendDots:".list-card-news-dotted",autoplay:!1,centerMode:!0,centerPadding:"0px",infinite:!1,speed:300,slidesToShow:1,slidesToScroll:1,prevArrow:".list-card-news-nav-pre",nextArrow:".list-card-news-nav-next"}),$(".list-card-news").on("afterChange",function(e,t,a,i){$(".list-card-news-info h3").text($(".slick-current .card-news-info h3").text()),$(".list-card-news-info-date").text($(".slick-current .card-news-info .card-news-info-date").text()),$(".list-card-news-info-description").text($(".slick-current .card-news-info .card-news-info-description").text()),$(".list-card-news-info-container a").attr("href",$(".slick-current .card-news-info a").attr("href"))})))}function _switch_month(e){return"vi"==$("body").data("language")?"T"+e.format("MM"):e.format("MMM")}function _set_init_date(){var e=moment(),t=moment().add(1,"day");$(".check-in-date-dd").text(e.format("DD")),$(".check-out-date-dd").text(t.format("DD")),$(".check-in-date-mm").text(_switch_month(e)),$(".check-out-date-mm").text(_switch_month(t))}function card_default_make_slider(){$(window).width()>=768&&$(".list-card-default").length?$(".list-card-default").hasClass("slick-initialized")&&$(".list-card-default").slick("unslick"):$(window).width()<768&&$(".list-card-default").length&&($(".list-card-default").hasClass("slick-initialized")||($(".list-card-default").on("init",function(e,t){var a=$(this).data("info");a="#"+a,$(a+" .list-card-default-info-container").html($(this).find(".slick-current .card-default-info-container").html())}),$(".list-card-default").each(function(){var e="#"+$(this).data("dotted"),t="#"+$(this).data("arrow"),a=t+"-pre",i=t+"-next";$(this).slick({dots:!0,arrows:!0,autoplay:!1,infinite:!1,centerMode:!0,centerPadding:"0px",speed:300,slidesToShow:1,slidesToScroll:1,prevArrow:a,nextArrow:i,appendDots:e})}),$(".list-card-default").on("afterChange",function(e,t){var a=$(this).data("info");a="#"+a,$(a+" .list-card-default-info-container").html($(this).find(".slick-current .card-default-info-container").html())})))}function scrollFunction(){document.body.scrollTop>100||document.documentElement.scrollTop>100?(document.getElementById("scrollTop").style.display="block",$(".header-menu").addClass("fixed"),$("header").addClass("fixed")):(document.getElementById("scrollTop").style.display="none",$(".header-menu").removeClass("fixed"),$("header").removeClass("fixed"))}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}$(window).on("resize",function(){exploration_make_slider(),card_news_make_slider(),card_default_make_slider(),_scroll_back_text(),calculate_map()}),$(document).scroll(function(){_scroll_back_text()}),$(document).ready(function(){$("#pageModal").length&&$("#pageModal").modal("show"),$(".sub-menu").addClass(" animated fadeInLeft faster hidden"),$(".footer-form-checkin label").addClass("active"),$(".gallery-grid-container").lightGallery({selector:".gallery-grid-item a"}),$(".pagination-ajax li").click(function(e){var t=$(this);if(!$(this).hasClass("disabled")&&!$(this).hasClass("active")){var a=$(this).data("page"),i=$(this).parent().data("current"),n=$(this).parent().data("total"),s=a;"pre"==a?s=i-1:"next"==a&&(s=i+1),$(this).parent().find("li").each(function(){$(this).removeClass("active")}),$(this).parent().find("[data-page="+s+"]").addClass("active"),$(this).parent().data("current",s),1==s?$(this).parent().find("[data-page=pre]").addClass("disabled"):$(this).parent().find("[data-page=pre]").removeClass("disabled"),s==n?$(this).parent().find("[data-page=next]").addClass("disabled"):$(this).parent().find("[data-page=next]").removeClass("disabled"),$(this).parent().parent().find(".gallery-grid-container").addClass("ajax-loading"),$(this).parent().find("li").addClass("disabled");var o=$(this).parent().data("url"),r=$(this).parent().data("galleryid");$.ajax({type:"POST",url:o,data:{action:"carmelina_load_grid_gallery",page:s,gallery:r},success:function(e){if(e.success){t.parent().parent().find(".gallery-grid-container").empty();for(var a=0;a<e.data.length;a++){var i='<div class="gallery-grid-item">\n<a href="'+e.data[a].url+'"><img src="'+e.data[a].sizes.medium_large+'" alt="'+e.data[a].title+'"></a>\n</div>';t.parent().parent().find(".gallery-grid-container").append(i)}}},error:function(e,t,a){console.log(a)}}).done(function(){t.parent().find("li").removeClass("disabled"),t.parent().parent().find(".gallery-grid-container").removeClass("ajax-loading"),1==t.parent().data("current")?t.parent().find("[data-page=pre]").addClass("disabled"):t.parent().data("current")==t.parent().data("total")&&t.parent().find("[data-page=next]").addClass("disabled")}),e.preventDefault()}}),$("#checkin").daterangepicker({autoApply:!0,locale:{format:"DD/MM/YY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",customRangeLabel:"Custom",weekLabel:"W",daysOfWeek:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],firstDay:1},alwaysShowCalendars:!0,startDate:moment(),endDate:moment().add(1,"day"),minDate:moment(),opens:"left"},function(e,t,a){$(".check-in-date-dd").text(e.format("DD")),$(".check-out-date-dd").text(t.format("DD")),$(".check-in-date-mm").text(_switch_month(e)),$(".check-out-date-mm").text(_switch_month(t))}),_set_init_date(),$(".check-in-date,.check-out-date").daterangepicker({autoApply:!0,locale:{format:"DD/MM/YY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",customRangeLabel:"Custom",weekLabel:"W",daysOfWeek:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],firstDay:1},alwaysShowCalendars:!0,startDate:moment(),endDate:moment().add(1,"day"),minDate:moment(),opens:"left"},function(e,t,a){$("#checkin").val(e.format("DD/MM/YY")+" - "+t.format("DD/MM/YY")),$(".check-in-date-dd").text(e.format("DD")),$(".check-out-date-dd").text(t.format("DD")),$(".check-in-date-mm").text(_switch_month(e)),$(".check-out-date-mm").text(_switch_month(t))}),$(".guest-number-select").change(function(){$(".guest-number-select").val($(this).val()),$("#footer-form-guest").val($(this).val())}),$("#footer-form-guest").change(function(){$(".guest-number-select").val($(this).val())}),$(".room-number-select").change(function(){$(".room-number-select").val($(this).val()),$("#footer-form-room").val($(this).val())}),$("#footer-form-room").change(function(){$(".room-number-select").val($(this).val())}),$(".scroll").click(function(e){var t=$($(this).data("scroll"));if((t=t.length?t:$("[name="+this.hash.slice(1)+"]")).length){e.preventDefault();var a=t.offset().top;if("checkin-form"==t.attr("id"))a=a-70-40;else if("resort-intro-content"==t.attr("id")||"dining-intro-content"==t.attr("id")){a-=($(window).height()-t.outerHeight())/2}else"page-content"==t.attr("id")&&(a-=70);$("html, body").animate({scrollTop:a},1e3)}}),$(".destination-slider").each(function(){var e="#"+$(this).data("dotted"),t="#"+$(this).data("arrow"),a=t+"-pre",i=t+"-next";$(this).slick({dots:!0,arrows:!0,autoplay:!0,infinite:!1,speed:300,slidesToShow:1,slidesToScroll:1,prevArrow:a,nextArrow:i,appendDots:e})}),$(".calendar-content-slider").slick({dots:!1,arrows:!0,autoplay:!1,infinite:!1,speed:300,slidesToShow:1,slidesToScroll:1,prevArrow:".calendar-filter-arrow-pre",nextArrow:".calendar-filter-arrow-next",mobileFirst:!0,responsive:[{breakpoint:2399,settings:{slidesToScroll:1,slidesToShow:3}},{breakpoint:1999,settings:{slidesToScroll:1,slidesToShow:3}},{breakpoint:1599,settings:{slidesToScroll:1,slidesToShow:3}},{breakpoint:1439,settings:{slidesToScroll:1,slidesToShow:2}},{breakpoint:1199,settings:{slidesToScroll:1,slidesToShow:2}},{breakpoint:991,settings:{slidesToScroll:1,slidesToShow:2}},{breakpoint:767,settings:{slidesToScroll:1,slidesToShow:1}}]}),$(".home-gallery-mobile-slider").length&&$(".home-gallery-mobile-slider").slick({dots:!1,arrows:!0,autoplay:!1,infinite:!1,speed:300,slidesToShow:1,slidesToScroll:1,prevArrow:".calendar-filter-arrow-pre",nextArrow:".calendar-filter-arrow-next",mobileFirst:!0,centerMode:!0,initialSlide:8}),$(".calendar-content-slider").slick("slickFilter","."+$("#calendar-filter-m").val()),$("#calendar-filter-m").on("change",function(){var e=$(this).val();$(".calendar-content-slider").slick("slickUnfilter"),$(".calendar-content-slider").slick("slickFilter","."+e)}),$(window).trigger("resize"),$(window).trigger("scroll")}),$('.section-resort a[data-toggle="tab"]').on("shown.bs.tab",function(e){exploration_reinit_slider()}),$('.session-destination a[data-toggle="tab"]').on("shown.bs.tab",function(e){destination_reinit_slider(),$("#footer-form-room-type").val($(this).data("room-type"))}),$("#footer-form-room-type").change(function(){var e=$(this).val();$(".session-destination").find("[data-room-type='"+e+"']").click()}),$(".menu-icon").click(function(){$("#main-menu-right-leaf").addClass("animated fadeInRight"),$("#main-menu-right-container").addClass("animated fadeInLeft"),$("#main-menu-left").addClass("animated fadeInLeft"),$("#main-menu").css("width","100%")}),$(".main-menu-close").click(function(){$("#main-menu-right-leaf").removeClass("animated fadeInRight"),$("#main-menu-right-container").removeClass("animated fadeInLeft"),$("#main-menu-left").removeClass("animated fadeInLeft"),$("#main-menu").css("width","0")}),$(".main-menu-left-root .menu-item-has-children > a").click(function(){var e=$(this).parent();e.hasClass("active")?(e.removeClass("active"),e.find(".sub-menu").addClass("hidden")):(e.addClass("active"),e.find(".sub-menu").removeClass("hidden"))}),$(".gallery-default").slick({dots:!0,appendDots:".gallery-default-dotted",autoplay:!0,infinite:!1,speed:300,slidesToShow:1,slidesToScroll:1,prevArrow:".gallery-default-nav-pre",nextArrow:".gallery-default-nav-next",responsive:[{breakpoint:575,settings:{arrows:!1}}]}),$(".dining-offer-content-slider").slick({dots:!1,arrows:!0,autoplay:!1,infinite:!1,speed:300,slidesToShow:1,slidesToScroll:1,prevArrow:".dining-offer-filter-arrow-pre",nextArrow:".dining-offer-filter-arrow-next",mobileFirst:!0}),$("#accomodation-btn-seemore-feature").click(function(){var e="#"+$(this).data("target");$(this).hasClass("active")?($(this).removeClass("animated fadeInTop slower"),$(this).removeClass("active"),$(e).css("display","none"),$(this).text($(this).data("seemore"))):($(this).addClass("animated fadeInTop slower"),$(this).addClass("active"),$(e).css("display","block"),$(this).text($(this).data("seeless")))}),$("#footer-subcriber-form").submit(function(e){var t=$(this),a=t.attr("action");$("#email-signup-helper-text").addClass("hidden"),$.ajax({type:"POST",dataType:"json",url:a,data:t.serialize(),success:function(e){if(e.success){$("#email_subcirbe_token").val(e.data);var t=$("#footer-subcriber-form").data("thanks");$("#email-signup-helper-text").removeClass("hidden"),$("#email-signup-helper-text").text(t)}else{t=$("#footer-subcriber-form").data(e.data);$("#email-signup-helper-text").removeClass("hidden"),$("#email-signup-helper-text").text(t)}},error:function(e,t,a){console.log(a)}}),e.preventDefault()}),$("#checkin-form").submit(function(e){if(!$(this).hasClass("active"))return e.preventDefault(),!1;$(this).removeClass("active"),$(".checkin-form-submit").addClass("loading");var t=$(this),a=t.attr("action");$("#infoform-success").addClass("hidden"),$("#infoform-error-fullname").addClass("hidden"),$("#infoform-error-email").addClass("hidden"),$("#infoform-error-phone").addClass("hidden"),$("#infoform-error-date").addClass("hidden"),$("#infoform-error-recaptcha").addClass("hidden"),$.ajax({type:"POST",dataType:"json",url:a,data:t.serialize(),success:function(e){if(e.success)$("#infoform-success").removeClass("hidden"),$("#full_name").val(""),$("#checkin-email").val(""),$("#phone_number").val("");else for(var t in e.data){var a="#"+t;if($(a).length){var i=$(a).data(e.data[t]);void 0!==i&&($(a).text(i),$(a).removeClass("hidden"))}}},error:function(e,t,a){console.log(a)}}).done(function(){$("#checkin-form").addClass("active"),$(".checkin-form-submit").removeClass("loading"),grecaptcha.reset()}),e.preventDefault()}),window.onscroll=function(){scrollFunction()},$(".back-to-top").click(function(){$("html, body").animate({scrollTop:0},1e3)});